#include <hidef.h>    
#include "xgate.h"
#include <MC9S12XEP100.h>

void Start_init(byte CAN0_Rate,byte CAN1_Rate,byte CAN2_Rate,byte CAN3_Rate);
 
 //CAN0_Rate,CAN1_Rate,CAN2_Rate,CAN3_Rate分别对应CAN0-CAN3的波特率
 //设置1对应  125K  设置2对应  250K  设置3对应  500K  设置4对应 800K
 
 unsigned long ConvertIDTOMSCAN_ID(unsigned long OID);//设置MASCAN对应的检验位
 
 unsigned long ConvertMASKTOMSCAN_MASK(unsigned long OMASK); //设置MSCAN对应的屏蔽位
 
 /*CAN0 Acceptance Code Definitions */ 
#define ACC_CAN0_EX_ID ConvertIDTOMSCAN_ID(CAN0_ID_ACC)  //确保帧类型为扩展数据帧
#define ACC_CAN0_EX_ID_R0 ((ACC_CAN0_EX_ID&0xFF000000)>>24)
#define ACC_CAN0_EX_ID_R1 ((ACC_CAN0_EX_ID&0x00FF0000)>>16)
#define ACC_CAN0_EX_ID_R2 ((ACC_CAN0_EX_ID&0x0000FF00)>>8)
#define ACC_CAN0_EX_ID_R3  (ACC_CAN0_EX_ID&0x000000FF)

/*CAN0 Mask Code Definitions */
#define MASK_CAN0_EX_ID ConvertMASKTOMSCAN_MASK(CAN0_ID_MASK) 
#define MASK_CAN0_EX_ID_R0 ((MASK_CAN0_EX_ID&0xFF000000)>>24)
#define MASK_CAN0_EX_ID_R1 ((MASK_CAN0_EX_ID&0x00FF0000)>>16)
#define MASK_CAN0_EX_ID_R2 ((MASK_CAN0_EX_ID&0x0000FF00)>>8)
#define MASK_CAN0_EX_ID_R3  (MASK_CAN0_EX_ID&0x000000FF)

/*CAN1 Acceptance Code Definitions */ 
#define ACC_CAN1_EX_ID ConvertIDTOMSCAN_ID(CAN1_ID_ACC)
#define ACC_CAN1_EX_ID_R0 ((ACC_CAN1_EX_ID&0xFF000000)>>24)
#define ACC_CAN1_EX_ID_R1 ((ACC_CAN1_EX_ID&0x00FF0000)>>16)
#define ACC_CAN1_EX_ID_R2 ((ACC_CAN1_EX_ID&0x0000FF00)>>8)
#define ACC_CAN1_EX_ID_R3  (ACC_CAN1_EX_ID&0x000000FF)

/*CAN1 Mask Code Definitions */
#define MASK_CAN1_EX_ID ConvertMASKTOMSCAN_MASK(CAN1_ID_MASK)
#define MASK_CAN1_EX_ID_R0 ((MASK_CAN1_EX_ID&0xFF000000)>>24)
#define MASK_CAN1_EX_ID_R1 ((MASK_CAN1_EX_ID&0x00FF0000)>>16)
#define MASK_CAN1_EX_ID_R2 ((MASK_CAN1_EX_ID&0x0000FF00)>>8)
#define MASK_CAN1_EX_ID_R3  (MASK_CAN1_EX_ID&0x000000FF)

/*CAN2 Acceptance Code Definitions */ 
#define ACC_CAN2_EX_ID ConvertIDTOMSCAN_ID(CAN2_ID_ACC)
#define ACC_CAN2_EX_ID_R0 ((ACC_CAN2_EX_ID&0xFF000000)>>24)
#define ACC_CAN2_EX_ID_R1 ((ACC_CAN2_EX_ID&0x00FF0000)>>16)
#define ACC_CAN2_EX_ID_R2 ((ACC_CAN2_EX_ID&0x0000FF00)>>8)
#define ACC_CAN2_EX_ID_R3  (ACC_CAN2_EX_ID&0x000000FF)

/*CAN2 Mask Code Definitions */
#define MASK_CAN2_EX_ID ConvertMASKTOMSCAN_MASK(CAN2_ID_MASK)
#define MASK_CAN2_EX_ID_R0 ((MASK_CAN2_EX_ID&0xFF000000)>>24)
#define MASK_CAN2_EX_ID_R1 ((MASK_CAN2_EX_ID&0x00FF0000)>>16)
#define MASK_CAN2_EX_ID_R2 ((MASK_CAN2_EX_ID&0x0000FF00)>>8)
#define MASK_CAN2_EX_ID_R3  (MASK_CAN2_EX_ID&0x000000FF)

/*CAN3 Acceptance Code Definitions */ 
#define ACC_CAN3_EX_ID ConvertIDTOMSCAN_ID(CAN2_ID_ACC)
#define ACC_CAN3_EX_ID_R0 ((ACC_CAN3_EX_ID&0xFF000000)>>24)
#define ACC_CAN3_EX_ID_R1 ((ACC_CAN3_EX_ID&0x00FF0000)>>16)
#define ACC_CAN3_EX_ID_R2 ((ACC_CAN3_EX_ID&0x0000FF00)>>8)
#define ACC_CAN3_EX_ID_R3  (ACC_CAN3_EX_ID&0x000000FF)

/*CAN3 Mask Code Definitions */
#define MASK_CAN3_EX_ID ConvertMASKTOMSCAN_MASK(CAN2_ID_MASK)
#define MASK_CAN3_EX_ID_R0 ((MASK_CAN3_EX_ID&0xFF000000)>>24)
#define MASK_CAN3_EX_ID_R1 ((MASK_CAN3_EX_ID&0x00FF0000)>>16)
#define MASK_CAN3_EX_ID_R2 ((MASK_CAN3_EX_ID&0x0000FF00)>>8)
#define MASK_CAN3_EX_ID_R3  (MASK_CAN3_EX_ID&0x000000FF)



